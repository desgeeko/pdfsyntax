<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="pdfsyntax.css">
    <title>PDFSyntax</title>
</head>
<body>
<header>
<a href="https://pdfsyntax.dev"><img src="logo.svg" width="50"/></a>
</header>
<main>
<h2>A PDF Disassembler</h2>
<p></p>
<h3>Introduction</h3>
<p>PDFSyntax is built from the ground up to become a PDF inspection and transformation library/tool. On this path, while debugging,  it is sometimes useful to directly dump the <strong>structure</strong> - and <strong>not the content</strong> - of PDF files on the command line (either files to transform or file produced by a transformation).</p>
<p>This <em>"Disassembler"</em> function is exposed on the command line interface of the library. By design its output is terse and greppable.</p>
<p>As stated by the PDF Specification, <em>PDF is not a programming language, and a PDF file is not a program.</em> But there is an analogy: cross-references allow to jump to different portions of a file with absolute (regular indirect objects) or relative addressing (indirect objects embedded in object streams).</p>
<h3>Usage</h3>
<p>PDFSyntax can be installed from the GitHub repo (no dependency) or from PyPI:</p>
<pre>    pip install pdfsyntax
</pre>
<p>Then the following command prints a dump on the standard output:</p>
<pre>    python3 -m pdfsyntax disasm FILE
</pre>
<h3>Example</h3>
<p>Here is the output produced for the <a href='https://github.com/desgeeko/pdfsyntax/raw/main/samples/simple_text_string.pdf'><em>Simple Text String</em></a> example file from the PDF Specification:</p>
<pre>$ python3 -m pdfsyntax disasm samples/simple_text_string.pdf
$ 
</pre>
<ul><li>000 [8  ]               comment                        %PDF-1.4           </li>
<li>008 [1  ]               void                                              </li>
<li>009 [70 ]            @- ind_obj   1,0           dict   /Catalog  !/JS!    </li>
<li>079 [1  ]               void                                              </li>
<li>080 [48 ]            @- ind_obj   2,0           dict   /Outlines  !/JS!   </li>
<li>128 [1  ]               void                                              </li>
<li>129 [62 ]            @- ind_obj   3,0           dict   /Pages  !/JS!      </li>
<li>191 [1  ]               void                                              </li>
<li>192 [183]            @- ind_obj   4,0           dict   /Page  !/JS!       </li>
<li>375 [1  ]               void                                              </li>
<li>376 [121] 100% <em>     @- ind</em>obj   5,0           stream !/JS!              </li>
<li>497 [1  ]               void                                              </li>
<li>498 [27 ]            @- ind_obj   6,0           array                     </li>
<li>525 [1  ]               void                                              </li>
<li>526 [119]            @- ind_obj   7,0           dict   /Font  !/JS!       </li>
<li>645 [1  ]               void                                              </li>
<li>646 [198]               xreftable                      !/JS!  /Root=1,0   </li>
<li>                     -@ xref      0,65535   000 free                      </li>
<li>                     -@ xref      1,0       009 inuse                     </li>
<li>                     -@ xref      2,0       080 inuse                     </li>
<li>                     -@ xref      3,0       129 inuse                     </li>
<li>                     -@ xref      4,0       192 inuse                     </li>
<li>                     -@ xref      5,0       376 inuse                     </li>
<li>                     -@ xref      6,0       498 inuse                     </li>
<li>                     -@ xref      7,0       526 inuse                     </li>
<li>844 [1  ]               void                                              </li>
<li>845 [13 ]               startxref           646                           </li>
<li>858 [1  ]               void                                              </li>
<li>859 [5  ]               comment                        %%EOF              </li>
<li>864 [1  ]               void                                              </li>
<li>865 [1  ]               void                                              </li>
</ul>
<pre>
This example is very basic because of its xref table and single uncompressed (100%) content stream. Inside a more complex file you would probably find something like this:

</pre>
<ul><li>053123 [461  ] 86%  <em>Flate        ind</em>obj   52,0               stream   /XRef  /Root=50,0   </li>
</ul>
<p></p>
<h3>Grep examples</h3>
<p>Ignore void spaces (separators) and focus on real objects:</p>
<pre>    python3 -m pdfsyntax disasm FILE | grep -v void
</pre>
<p>List all xref entries of all tables or streams:</p>
<pre>    python3 -m pdfsyntax disasm FILE | grep xref
</pre>
<p>Ignore detail lines:</p>
<pre>    python3 -m pdfsyntax disasm FILE | grep "^+"
</pre>
<p>Search all mentions of an indirect object, both in itself and in xref:</p>
<pre>    python3 -m pdfsyntax disasm FILE | grep 52,
</pre>
<p></p>
<h3>Columns</h3>
<p>Most of the columns are collapsable in order to save horizontal space. For example the position (<code>#2</code>) may have a maximum width of 10 digits but for small files the unecessary leading zeros are removed.</p>
<table><thead><tr><th> Column </th>
<th> Description </th>
</tr>
</thead>
<tbody><tr><td> <code>1</code>     </td>
<td> <code>+</code> for a region with absolute positionning, <code>-</code> for a detail line (xref, /XRef, /ObjStm)</td>
</tr>
<tr><td> <code>2</code>     </td>
<td> Position, absolute (<code>+</code>) or relative (<code>-</code>)</td>
</tr>
<tr><td> <code>3</code>     </td>
<td> Size in bytes</td>
</tr>
<tr><td> <code>4</code>     </td>
<td> Percentage compressed size / plain size</td>
</tr>
<tr><td> <code>5</code>     </td>
<td> Applied filter(s)</td>
</tr>
<tr><td> <code>6</code>     </td>
<td> Sequence number of embedded object</td>
</tr>
<tr><td> <code>7</code>     </td>
<td> Indirect reference of <strong>envelope</strong> object</td>
</tr>
<tr><td> <code>8</code>     </td>
<td> Index check, @ for OK and ? for NOK</td>
</tr>
<tr><td> <code>9</code>     </td>
<td> Region type</td>
</tr>
<tr><td> <code>10</code>     </td>
<td> Indirect reference of <strong>this</strong> object</td>
</tr>
<tr><td> <code>11</code>    </td>
<td> Addressing mode of xref, envelope or absolute</td>
</tr>
<tr><td> <code>12</code>    </td>
<td> Address of xref</td>
</tr>
<tr><td> <code>13</code>    </td>
<td> Type of PDF object</td>
</tr>
<tr><td> <code>14</code>    </td>
<td> Some detail : most important keys for dict, excerpt for comment</td>
</tr>
</tbody>
</table>
<p></p>
<blockquote><p> Warning: Encrypted files are not supported yet. </p>
</blockquote>

</main>
<footer>
&copy; 2025 <a href="mailto:desgeeko@gmail.com">Martin D.</a> &lt;desgeeko@gmail.com&gt;
</footer>
</body>
</html>
